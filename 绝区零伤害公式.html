<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <meta name="description" content="ç»åŒºé›¶ä¼¤å®³å…¬å¼ä¸€è§ˆè¡¨ï¼ŒåŒ…å«é€šç”¨ä¼¤å®³ã€é˜²å¾¡åŒºã€ç›´ä¼¤ä¼¤å®³ã€å‘½ç ´ä¼¤å®³ã€å¼‚å¸¸ä¼¤å®³ç­‰è®¡ç®—å…¬å¼ã€‚" />
    <meta name="theme-color" content="#3498db" />
    <meta name="color-scheme" content="light dark" />
    <title>ç»åŒºé›¶ä¼¤å®³å…¬å¼ä¸€è§ˆè¡¨</title>

    <!-- MathJax 3 for better LaTeX and Chinese support -->
    <script>
        window.MathJax = {
            tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']],
                displayMath: [['$$', '$$'], ['\\[', '\\]']],
                processEscapes: true
            },
            svg: {
                fontCache: 'global'
            }
        };
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.2/es5/tex-mml-chtml.min.js" defer></script>
    <style>
        :root {
            --bg-color: #f5f7fa;
            --text-color: #333;
            --card-bg: white;
            --border-color: #e1e8ed;
            --hover-bg: #f1f7ff;
            --shadow: rgba(0, 0, 0, 0.05);
            --heading-color: #2c3e50;
            --primary-color: #3498db;
            --secondary-color: #e74c3c;
            --table-stripe: #f9f9f9;
            --button-bg: #2c3e50;
            --info-bg: #f8f9fa;
        }

        body.dark-mode {
            --bg-color: #1a1a1a;
            --text-color: #e0e0e0;
            --card-bg: #2d2d2d;
            --border-color: #404040;
            --hover-bg: #3a3a3a;
            --shadow: rgba(0, 0, 0, 0.3);
            --heading-color: #e0e0e0;
            --primary-color: #4dabf7;
            --secondary-color: #ff6b6b;
            --table-stripe: #252525;
            --button-bg: #404040;
            --info-bg: #2a2a2a;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        img {
            max-width: 100%;
            height: auto;
            display: block;
        }

        body {
            font-family: "Microsoft YaHei", sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            line-height: 1.6;
            padding: 20px;
            transition: background-color 0.3s, color 0.3s;
            scrollbar-gutter: always;
        }

        .header-bar {
            position: sticky;
            top: 0;
            z-index: 120;
            background: var(--bg-color);
            padding: 20px 20px 12px;
            box-shadow: none;
            transition: box-shadow 0.3s ease, background-color 0.3s ease, color 0.3s ease;
            margin-bottom: 12px;
        }

        .header-bar.scrolled {
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
        }

        .header-inner {
            display: grid;
            grid-template-columns: auto 1fr auto;
            align-items: center;
            gap: 12px;
        }

        h1 {
            text-align: center;
            margin: 0;
            color: var(--heading-color);
            font-size: 2.5rem;
        }

        .dark-mode-toggle {
            padding: 10px 20px;
            background-color: var(--button-bg);
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 19px;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .dark-mode-toggle:hover {
            background-color: var(--primary-color);
            transform: translateY(-2px);
        }

        .container {
            display: flex;
            flex-wrap: wrap;
            gap: 30px;
            margin-bottom: 40px;
        }

        .formula-section {
            flex: 1;
            min-width: calc(50% - 15px);
            max-width: calc(50% - 15px);
            background: var(--card-bg);
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 4px 12px var(--shadow);
            border: 1px solid var(--border-color);
            transition: all 0.3s ease;
        }

        .formula-section.full-width {
            min-width: 100%;
            max-width: 100%;
        }

        .formula-section:hover {
            box-shadow: 0 0 20px rgba(255, 255, 255, 0.3);
        }

        body.dark-mode .formula-section:hover {
            box-shadow: 0 0 20px rgba(255, 255, 255, 0.2);
        }

        .formula-section h2 {
            color: var(--primary-color);
            font-size: 1.8rem;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid transparent;
            transition: border-bottom-color 0.3s ease;
        }

        .formula-section:hover h2 {
            border-bottom-color: var(--primary-color);
        }

        .formula-section h3 {
            color: var(--heading-color);
            font-size: 1.2rem;
            margin-top: 15px;
            margin-bottom: 10px;
        }

        .formula-box {
            background: var(--info-bg);
            border-left: 4px solid transparent;
            padding: 15px;
            margin: 10px 0;
            border-radius: 4px;
            overflow-x: auto;
            transition: border-left-color 0.3s ease;
        }

        .formula-section:hover .formula-box {
            border-left-color: var(--primary-color);
        }

        .formula-box p {
            margin: 10px 0;
            font-size: 18px;
        }

        .description {
            color: var(--text-color);
            font-size: 17px;
            line-height: 1.8;
            margin: 10px 0;
        }

        .math {
            display: block;
            margin: 15px 0;
            overflow-x: auto;
            overflow-y: hidden;
            font-size: 120%;
            -webkit-overflow-scrolling: touch;
            scrollbar-gutter: always;
        }

        .math::-webkit-scrollbar:horizontal {
            height: 8px;
        }

        .math::-webkit-scrollbar-thumb:horizontal {
            background-color: rgba(0, 0, 0, 0.5);
            border-radius: 3px;
        }

        body.dark-mode .math::-webkit-scrollbar-thumb:horizontal {
            background-color: #888;
        }

        table {
            width: 100%;
            border-collapse: separate;
            border-spacing: 0;
            margin: 15px 0;
            font-size: 17px;
            display: table;
            table-layout: auto;
            overflow: hidden;
            border-radius: 8px;
            border: 1px solid var(--border-color);
            -webkit-overflow-scrolling: touch;
        }

        th,
        td {
            border: none;
            border-right: 1px solid var(--border-color);
            border-bottom: 1px solid var(--border-color);
            padding: 12px;
            text-align: center;
            white-space: nowrap;
        }

        th:last-child,
        td:last-child {
            border-right: none;
        }

        tr:last-child td {
            border-bottom: none;
        }

        th {
            background-color: var(--primary-color);
            color: white;
            font-weight: 600;
        }

        tr:nth-child(even) {
            background-color: var(--table-stripe);
        }

        tr:hover {
            background-color: var(--hover-bg);
        }

        /* è¡¨æ ¼æ»šåŠ¨æ¡æ ·å¼ */
        table::-webkit-scrollbar {
            height: 8px;
        }

        table::-webkit-scrollbar-thumb {
            background-color: rgba(0, 0, 0, 0.5);
            border-radius: 3px;
        }

        body.dark-mode table::-webkit-scrollbar-thumb {
            background-color: #888;
        }

        .note {
            background: rgba(230, 126, 34, 0.1);
            border-left: 4px solid transparent;
            padding: 12px;
            margin: 10px 0;
            border-radius: 4px;
            font-size: 17px;
            transition: border-left-color 0.3s ease;
        }

        .formula-section:hover .note {
            border-left-color: #e67e22;
        }

        @media (max-width: 768px) {
            h1 {
                font-size: 1.8rem;
            }

            /* æ‰‹æœºç«¯æŒ‰é’®æ–‡å­—éšè—ï¼Œåªæ˜¾ç¤ºå›¾æ ‡ */
            .dark-mode-toggle .mode-text,
            .dark-mode-toggle .changelog-text {
                display: none;
            }

            .dark-mode-toggle {
                padding: 8px 12px;
                font-size: 13px;
            }

            .header-inner {
                grid-template-columns: auto 1fr auto;
                gap: 8px;
            }

            .formula-section {
                padding: 15px;
                min-width: 100%;
                max-width: 100%;
            }

            table {
                font-size: 12px;
            }

            th,
            td {
                padding: 8px 4px;
            }
        }

        .mjx-chtml {
            display: inline-block !important;
            font-size: 120% !important;
        }

        /* æ›´æ–°æ—¥å¿—å¼¹çª—æ ·å¼ */
        .overlay {
            position: fixed;
            inset: 0;
            z-index: 1000;
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(3px);
            opacity: 0;
            visibility: hidden;
            pointer-events: none;
            transition: opacity 0.25s ease, visibility 0s linear 0.25s;
        }

        .overlay.active {
            opacity: 1;
            visibility: visible;
            pointer-events: auto;
            transition: opacity 0.25s ease;
        }

        .overlay-content {
            width: 85%;
            max-height: 85vh;
            background: var(--card-bg);
            color: var(--text-color);
            display: flex;
            flex-direction: column;
            border-radius: 12px;
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.2);
            overflow: hidden;
            opacity: 0;
            transform: scale(0.98);
            transition: opacity 0.25s ease, transform 0.25s ease;
        }

        .overlay.active .overlay-content {
            opacity: 1;
            transform: scale(1);
        }

        .overlay-header {
            position: sticky;
            top: 0;
            z-index: 1001;
            display: flex;
            align-items: center;
            justify-content: flex-end;
            padding: 16px 20px;
            background: var(--bg-color);
            box-shadow: 0 2px 8px var(--shadow);
        }

        .overlay-header h2 {
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
            margin: 0;
            text-align: center;
            color: var(--heading-color);
            font-size: 1.8rem;
        }

        .overlay-body {
            padding: 20px;
            overflow: auto;
            flex: 1;
        }

        body.overlay-open {
            overflow: hidden;
        }

        .info-box {
            background: var(--info-bg);
            border-left: 4px solid transparent;
            padding: 15px;
            margin: 15px 0;
            border-radius: 4px;
            transition: border-left-color 0.3s ease;
        }

        .overlay-content:hover .info-box {
            border-left-color: var(--primary-color);
        }

        /* æŸ¥çœ‹æŒ‰é’®æ ·å¼ */
        .view-btn {
            background: linear-gradient(135deg, var(--primary-color), #2980b9);
            color: white;
            border: none;
            padding: 12px 28px;
            font-size: 1rem;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 12px rgba(52, 152, 219, 0.3);
            font-weight: 500;
        }

        .view-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(52, 152, 219, 0.4);
            background: linear-gradient(135deg, #2980b9, #1e5a8e);
        }

        .view-btn:active {
            transform: translateY(0);
            box-shadow: 0 2px 8px rgba(52, 152, 219, 0.3);
        }

        /* å¼¹çª—å…³é—­æŒ‰é’® */
        .close-btn {
            background: transparent;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--text-color);
            padding: 0;
            width: 32px;
            height: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s ease;
            margin-left: auto;
        }

        .close-btn:hover {
            background: var(--hover-bg);
            border-radius: 4px;
        }

        /* å¼‚å¸¸çŠ¶æ€é¢œè‰² */
        .qiangjie, .weisuo {
            color: #F0D12B;
            font-weight: 600;
        }

        .suibing, .shuanghan {
            color: #98EFF0;
            font-weight: 600;
        }

        .lieshuang {
            color: #98EFF0;
            font-weight: 600;
        }

        .zhuoshao {
            color: #FF5521;
            font-weight: 600;
        }

        .gandian {
            color: #2EB6FF;
            font-weight: 600;
        }

        .qinshi {
            color: #FE437E;
            font-weight: 600;
        }
    </style>
</head>

<body>
    <div class="header-bar">
        <div class="header-inner">
            <button class="dark-mode-toggle" id="open-changelog">
                <span>ğŸ“</span>
                <span class="changelog-text">æ›´æ–°æ—¥å¿—</span>
            </button>
            <h1>ç»åŒºé›¶ä¼¤å®³å…¬å¼ä¸€è§ˆè¡¨</h1>
            <button class="dark-mode-toggle" onclick="toggleDarkMode()">
                <span class="mode-icon">ğŸŒ™</span>
                <span class="mode-text">æ·±è‰²æ¨¡å¼</span>
            </button>
        </div>
    </div>

    <!-- æ›´æ–°æ—¥å¿—å¼¹çª— -->
    <div aria-hidden="true" class="overlay" id="changelog-overlay">
        <div class="overlay-content">
            <div class="overlay-header">
                <h2>æ›´æ–°æ—¥å¿—</h2>
                <button class="dark-mode-toggle" onclick="toggleDarkMode()">
                    <span class="mode-icon">ğŸŒ™</span>
                    <span class="mode-text">æ·±è‰²æ¨¡å¼</span>
                </button>
            </div>
            <div class="overlay-body">
                <h3 style="text-align:center;margin-bottom:20px;color:var(--primary-color);font-size:1.5rem;">
                    V2.6.0 æ›´æ–°å†…å®¹
                </h3>
                <div class="info-box">
                    <ol style="margin:0;padding-left:24px;line-height:2;">
                        <li>ä¿®å¤éƒ¨åˆ†å·²çŸ¥é—®é¢˜</li>
                        <li>å°†å¤§å‹è¡¨æ ¼æ”¶çº³èŠ‚çº¦ç©ºé—´</li>
                        <li>ä¼˜åŒ–äº†ä¸€ç‚¹UI</li>
                        <li>æ¬¢è¿å» <a href="https://github.com/lihua123123/ZZZCalculationFormula/issues" target="_blank" rel="noopener noreferrer" style="color:var(--primary-color);text-decoration:underline;">GitHub æ Issues</a></li>
                    </ol>
                </div>
                
                <h3 style="text-align:center;margin-bottom:20px;margin-top:40px;color:var(--primary-color);font-size:1.5rem;">
                    V1.0.0 æ›´æ–°å†…å®¹
                </h3>
                <div class="info-box">
                    <ol style="margin:0;padding-left:24px;line-height:2;">
                        <li>å®Œæ•´çš„ä¼¤å®³å…¬å¼è®¡ç®—å‚è€ƒ</li>
                        <li>æ”¯æŒæ·±è‰²/æµ…è‰²ä¸»é¢˜åˆ‡æ¢</li>
                        <li>ä½¿ç”¨ MathJax æ¸²æŸ“æ•°å­¦å…¬å¼</li>
                        <li>åŒ…å«é€šç”¨ä¼¤å®³ã€é˜²å¾¡åŒºã€ç›´ä¼¤ã€å‘½ç ´ã€å¼‚å¸¸ä¼¤å®³ç­‰å†…å®¹</li>
                        <li>å“åº”å¼è®¾è®¡ï¼Œæ”¯æŒæ¡Œé¢å’Œç§»åŠ¨ç«¯æµè§ˆ</li>
                    </ol>
                </div>
                <p style="text-align:right;margin-top:40px;color:var(--text-color);font-size:0.9rem;font-style:italic;">
                    --è‰¾è²å…¶å®æ˜¯çˆ±æ‹çš„æ„æ€
                </p>
            </div>
        </div>
    </div>

    <!-- å¼‚å¸¸ç§¯è“„é˜ˆå€¼å¼¹çª— -->
    <div aria-hidden="true" class="overlay" id="threshold-overlay">
        <div class="overlay-content">
            <div class="overlay-header">
                <h2>å¼‚å¸¸ç§¯è“„é˜ˆå€¼</h2>
                <button class="close-btn" id="close-threshold-btn">âœ•</button>
            </div>
            <div class="overlay-body">
                <table>
                    <tr>
                        <th>å·²è§¦å‘æ¬¡æ•°</th>
                        <th>0</th><th>1</th><th>2</th><th>3</th><th>4</th><th>5</th><th>6</th><th>7</th><th>8</th><th>9+</th>
                    </tr>
                    <tr>
                        <td>æ™®é€šæ•Œäºº</td>
                        <td>600</td><td>612</td><td>624</td><td>636</td><td>648</td><td>660</td><td>673</td><td>686</td><td>699</td><td>712</td>
                    </tr>
                    <tr>
                        <td>æ™®é€šæ•Œäºº<br/>(ç‰©ç†)</td>
                        <td>720</td><td>734</td><td>748</td><td>762</td><td>777</td><td>792</td><td>807</td><td>823</td><td>839</td><td>855</td>
                    </tr>
                    <tr>
                        <td>ç²¾è‹±æ•Œäºº</td>
                        <td>2250</td><td>2295</td><td>2340</td><td>2386</td><td>2433</td><td>2481</td><td>2530</td><td>2580</td><td>2631</td><td>2683</td>
                    </tr>
                    <tr>
                        <td>ç²¾è‹±æ•Œäºº<br/>(ç‰©ç†)</td>
                        <td>2700</td><td>2754</td><td>2809</td><td>2865</td><td>2922</td><td>2980</td><td>3039</td><td>3099</td><td>3160</td><td>3223</td>
                    </tr>
                    <tr>
                        <td>é¦–é¢†æ•Œäºº</td>
                        <td>3000</td><td>3060</td><td>3121</td><td>3183</td><td>3246</td><td>3310</td><td>3376</td><td>3443</td><td>3511</td><td>3581</td>
                    </tr>
                    <tr>
                        <td>é¦–é¢†æ•Œäºº<br/>(ç‰©ç†)</td>
                        <td>3600</td><td>3672</td><td>3745</td><td>3819</td><td>3895</td><td>3972</td><td>4051</td><td>4132</td><td>4214</td><td>4298</td>
                    </tr>
                </table>
            </div>
        </div>
    </div>

    <main class="container">
        <!-- é€šç”¨ä¼¤å®³ -->
        <div class="formula-section">
            <h2>é€šç”¨ä¼¤å®³</h2>
            <p class="description">
                é€šç”¨ä¼¤å®³æ˜¯æ‰€æœ‰ä¼¤å®³è®¡ç®—çš„åŸºç¡€ã€‚å®ƒè€ƒè™‘äº†åŸºç¡€å±æ€§ã€æŠ€èƒ½å€ç‡ã€å¤±è¡¡æ˜“ä¼¤ã€å¢ä¼¤ã€æš´å‡»ä¼¤å®³å’ŒæŠ—æ€§ç­‰å› ç´ ã€‚
            </p>
            <div class="formula-box">
                <div class="math">
                    $$\begin{align}
                    \text{é€šç”¨ä¼¤å®³} &= \text{åŸºç¡€å±æ€§} \times \text{å€ç‡} \times (1 + \text{å¤±è¡¡æ˜“ä¼¤}\%)\\
                    \quad &\times (1 + \text{å¢ä¼¤}\% ) \times (1 + \text{æš´å‡»ä¼¤å®³}\%) \\
                    \quad &\times (1 - \text{å¢æŠ—}\% + \text{å‡æŠ—}\% + \text{æŠ—ç©¿}\%)
                    \end{align}$$
                </div>
            </div>
        </div>

        <!-- å¤©èµ‹å€ç‡ -->
        <div class="formula-section">
            <h2>å¤©èµ‹å€ç‡</h2>
            <p class="description">
                å¤©èµ‹ç­‰çº§ä¼šå½±å“æŠ€èƒ½çš„ä¼¤å®³å€ç‡å’Œå¤±è¡¡å€ç‡ã€‚
            </p>
            <div class="formula-box">
                <div class="math">
                    $$\begin{align}
                    \text{ä¼¤å®³å€ç‡} &= \text{åŸºç¡€ä¼¤å®³å€ç‡} \times (1 + 10 \% \times n)
                    \tag{nä¸ºå¤©èµ‹ç­‰çº§}\\
                    \\
                    \text{å¤±è¡¡å€ç‡} &= \text{åŸºç¡€å¤±è¡¡å€ç‡} \times (1 + 5 \% \times n)
                    \tag{nä¸ºå¤©èµ‹ç­‰çº§}
                    \end{align}$$
                </div>
            </div>
        </div>

        <!-- é˜²å¾¡åŒº -->
        <div class="formula-section full-width">
            <h2>é˜²å¾¡åŒº</h2>
            <p class="description">
                é˜²å¾¡åŒºç”¨äºè®¡ç®—æ•Œäººçš„é˜²å¾¡æ•ˆæœï¼Œå½±å“ç›´ä¼¤ä¼¤å®³çš„æœ€ç»ˆç»“ç®—ã€‚
            </p>
            <div class="formula-box">
                <div class="math">
                    $$\text{é˜²å¾¡åŒº} = \frac{794}{\frac{\text{1çº§åŸºç¡€é˜²å¾¡}}{50} \times 794 \times (1 + \text{åŠ é˜²}\% - \text{å‡é˜²}\% - \text{æ— è§†é˜²å¾¡}\%) \times (1 - \text{ç©¿é€}\%) - \text{ç©¿é€å€¼} + 794}$$
                </div>
            </div>
        </div>

        <!-- ç›´ä¼¤ä¼¤å®³ -->
        <div class="formula-section">
            <h2>ç›´ä¼¤ä¼¤å®³</h2>
            <p class="description">
                ç›´ä¼¤æ˜¯æ¸¸æˆä¸­æœ€ä¸»è¦çš„ä¼¤å®³ç±»å‹ï¼Œå—é˜²å¾¡ã€æ˜“ä¼¤å’Œè·ç¦»è¡°å‡çš„å½±å“ã€‚
            </p>
            <div class="formula-box">
                <div class="math">
                    $$\begin{align}
                    \text{ç›´ä¼¤ä¼¤å®³} &= \text{é€šç”¨ä¼¤å®³(æ”»å‡»åŠ›)} \times \text{é˜²å¾¡åŒº} \\
                    \quad &\times (1 + \text{æ˜“ä¼¤}\% - \text{å‡ä¼¤}\% ) \\
                    \quad &\times \text{è·ç¦»è¡°å‡åŒº}
                    \end{align}$$
                </div>
            </div>
            <div class="note">
                <strong>æ³¨æ„ï¼š</strong>å¤§éƒ¨åˆ†ä»£ç†äººè®¡ç®—<strong>è·ç¦»è¡°å‡åŒº</strong>æ—¶ï¼Œé»˜è®¤ä¸º100%ã€‚
            </div>
        </div>

        <!-- å‘½ç ´ä¼¤å®³ -->
        <div class="formula-section">
            <h2>å‘½ç ´ä¼¤å®³</h2>
            <p class="description">
                å‘½ç ´ä¼¤å®³åŸºäºè§’è‰²çš„ç”Ÿå‘½å€¼å’Œæ”»å‡»åŠ›ï¼Œä¸é˜²å¾¡æ— å…³ï¼Œè€Œæ˜¯ä¸è´¯ç©¿ç›¸å…³ã€‚
            </p>
            <div class="formula-box">
                <div class="math">
                    $$\begin{align}
                    \text{è´¯ç©¿åŠ›} &= \frac{\text{ç”Ÿå‘½å€¼}}{10} + \frac{3 \times \text{æ”»å‡»åŠ›}}{10}  \\
                    \\
                    \text{å‘½ç ´ä¼¤å®³} &= \text{é€šç”¨ä¼¤å®³(è´¯ç©¿åŠ›)} \times (1 + \text{æ˜“ä¼¤}\% - \text{å‡ä¼¤}\%) \\
                        \quad &\times (1 + \text{è´¯ç©¿å¢ä¼¤}\% - \text{è´¯ç©¿å‡ä¼¤}\%)
                    \end{align}$$
                </div>
            </div>
        </div>

        <!-- å¼‚å¸¸ä¼¤å®³ -->
        <div class="formula-section">
            <h2>å¼‚å¸¸ä¼¤å®³</h2>
            <p class="description">
                å¼‚å¸¸ä¼¤å®³åŒ…æ‹¬<span class="qiangjie">å¼ºå‡»</span>ã€<span class="suibing">ç¢å†°</span>ã€<span class="zhuoshao">ç¼çƒ§</span>ã€<span class="gandian">æ„Ÿç”µ</span>ã€<span class="qinshi">ä¾µèš€</span>ç­‰å¼‚å¸¸çŠ¶æ€é€ æˆçš„ä¼¤å®³ã€‚
            </p>
            <div class="formula-box">
                <div class="math">
                    $$\begin{align}
                    \text{å¼‚å¸¸ä¼¤å®³} &= \text{é€šç”¨ä¼¤å®³(æ”»å‡»åŠ›)} \times \frac{å¼‚å¸¸ç²¾é€š}{100} \times \text{é˜²å¾¡åŒº} \\
                    \quad &\times \underbrace{trunc(1 + \frac{\text{ç­‰çº§} - 1}{59}, 4)}_{\text{ä¿ç•™å°æ•°å‡½æ•°}} \\
                    \quad &\times (1 + \text{å¼‚å¸¸å¢ä¼¤}\% + \text{å¼‚å¸¸æ˜“ä¼¤}\%) \\
                    \end{align}$$
                </div>
            </div>
            <h3>å¼‚å¸¸å€ç‡è¡¨</h3>
            <table>
                <tr>
                    <th>å¼‚å¸¸ç±»å‹</th><th>å€ç‡</th><th>æ¬¡æ•°</th><th>é¢‘ç‡</th>
                </tr>
                <tr>
                    <td><span class="qiangjie">å¼ºå‡»</span></td><td>713%</td><td>1</td><td></td>
                </tr>
                <tr>
                    <td><span class="suibing">ç¢å†°</span></td><td>500%</td><td>1</td><td></td>
                </tr>
                <tr>
                    <td><span class="zhuoshao">ç¼çƒ§</span></td><td>50%</td><td>20</td><td>0.5 s/æ¬¡</td>
                </tr>
                <tr>
                    <td><span class="gandian">æ„Ÿç”µ</span></td><td>125%</td><td>10</td><td>1 sCD</td>
                </tr>
                <tr>
                    <td><span class="qinshi">ä¾µèš€</span></td><td>62.5%</td><td>20</td><td>0.5 sCD</td>
                </tr>
            </table>
        </div>

        <!-- å¼‚å¸¸ç§¯è“„å€¼ -->
        <div class="formula-section">
            <h2>å¼‚å¸¸ç§¯è“„å€¼</h2>
            <p class="description">
                å¼‚å¸¸ç§¯è“„å€¼å†³å®šäº†æ¿€å‘å¼‚å¸¸æ‰€éœ€çš„æ“ä½œæ¬¡æ•°ã€‚
            </p>
            <div class="formula-box">
                <div class="math">
                    $$\begin{align}
                    \text{å¼‚å¸¸ç§¯è“„å€¼} &= \text{åŸºç¡€ç§¯è“„å€¼} \times \frac{\lfloor \text{å¼‚å¸¸æŒæ§} \rfloor}{100} \\
                    \quad &\times (1 + \text{ç§¯è“„æ•ˆç‡æå‡}\% - \text{ç§¯è“„æ•ˆç‡é™ä½}\% + \text{ç§¯è“„å€¼æå‡}) \\
                    \quad &\times (1 - \text{ç§¯è“„æŠ—æ€§æå‡}\% + \text{ç§¯è“„æŠ—æ€§å‡å°‘}\%) \times \text{è·ç¦»è¡°å‡åŒº} \\
                    \\
                    \text{å¼‚å¸¸ç§¯è“„é˜ˆå€¼} &=
                    \begin{cases}
                        a_1 = 600 \times 1.2 \text{(ç‰©ç†)} \\
                        a_{n+1} = \lfloor 1.05 \times a_n \rfloor, & 1 \leq n \leq 9
                        \tag{nä¸ºè§¦å‘æ¬¡æ•°} \\
                    \end{cases} \\
                    \\
                    \text{æ™®é€š:ç²¾è‹±:é¦–é¢†} &= 600:2250:3000
                    \end{align}$$
                </div>
            </div>
            <div style="text-align: center; margin: 30px 0;">
                <button class="view-btn" id="open-threshold-btn">ğŸ“‹ æŸ¥çœ‹å¼‚å¸¸ç§¯è“„é˜ˆå€¼è¡¨</button>
            </div>
            <div class="note">
                <strong>æ³¨æ„ï¼š</strong>å¤§éƒ¨åˆ†ä»£ç†äººè®¡ç®—<strong>è·ç¦»è¡°å‡åŒº</strong>æ—¶ï¼Œé»˜è®¤ä¸º100%ã€‚
            </div>
        </div>

        <!-- ç´Šä¹± -->
        <div class="formula-section">
            <h2>ç´Šä¹±</h2>
            <div class="formula-box">
                <div class="math">
                    $$\begin{align}
                    \quad & \text{æœªä½œç‰¹åˆ«è¯´æ˜æ—¶ï¼Œç´Šä¹±æ— æ³•äº«å—å¼‚å¸¸å¢ä¼¤åŒº} \\
                    \\
                    \quad & \text{ä¼¤å®³å€ç‡} = 450 \% +
                    \begin{cases}
                        \quad &7.5 \% \times \lfloor t \rfloor \quad & , \color{#F0D12B}{\text{ç•ç¼©}} \\
                        \quad &7.5 \% \times \lfloor t \rfloor \quad & , \color{#98EFF0}{\text{éœœå¯’}} \\
                        \quad &75 \% \times \lfloor t + 2 \rfloor \quad & , \color{#98EFF0}{\text{éœœå¯’Â·çƒˆéœœ}} \\
                        \quad &50 \% \times \frac{\lfloor t \rfloor}{0.5} \quad & , \color{#FF5521}{\text{ç¼çƒ§}} \\
                        \quad &125 \% \times \lfloor t \rfloor \quad & , \color{#2EB6FF}{\text{æ„Ÿç”µ}} \\
                        \quad &62.5 \% \times \frac{\lfloor t \rfloor}{0.5} \quad & , \color{#FE437E}{\text{ä¾µèš€}} \\
                        \tag{tä¸ºå‰©ä½™æ—¶é—´}
                    \end{cases}\\
                    \\
                    \quad & \text{å¤±è¡¡å€ç‡} = 200 \%
                    \end{align}$$
                </div>
            </div>
        </div>

        <!-- åŠ æƒè§„åˆ™ -->
        <div class="formula-section">
            <h2>åŠ æƒè§„åˆ™</h2>
            <div class="formula-box">
                <div class="math">
                    $$\text{å¯¹äºå¼‚å¸¸ä¼¤å®³ã€å¼‚å¸¸ç§¯è“„å’Œç´Šä¹±å¤±è¡¡ç§¯è“„æ¥è¯´ï¼Œæœ€åç»“ç®—æ—¶ä¼šæŒ‰ç…§æ­¤åˆ»æ”»å‡»çš„è´¡çŒ®æ‰€å å¯¹åº”çŠ¶æ€çš„ç™¾åˆ†æ¯”å‚ä¸ç»“ç®—} \\$$
                </div>
                <div class="math">
                    $$\text{å¼‚å¸¸ä¼¤å®³å‚ä¸åŠ æƒçš„å±æ€§æœ‰ï¼šç­‰çº§ã€æ”»å‡»åŠ›ã€ç²¾é€šåŒºã€ç©¿é€ç‡ã€ç©¿é€å€¼ã€å¢ä¼¤åŒºã€å¼‚å¸¸å¢ä¼¤åŒº} \\$$
                </div>
                <div class="math">
                    $$\text{å¼‚å¸¸ç§¯è“„å‚ä¸åŠ æƒçš„å±æ€§æœ‰ï¼šå¼‚å¸¸ç§¯è“„å€¼} \\$$
                </div>
                <div class="math">
                    $$\text{ç´Šä¹±å¤±è¡¡ç§¯è“„å‚ä¸åŠ æƒçš„å±æ€§æœ‰ï¼šç­‰çº§} (1 + 0.0075 \times lv) \text{ã€å†²å‡»åŠ›ã€å¤±è¡¡æ•ˆç‡åŒº} \\$$
                </div>
                <div class="math">
                    $$\quad \text{ç§¯è“„å€¼ç™¾åˆ†æ¯”} = \frac{\text{æ­¤åˆ»æ”»å‡»ç§¯è“„å€¼}}{\text{æ€»ç§¯è“„å€¼} - \text{é‚¦å¸ƒç´¯è®¡ç§¯è“„å€¼}} \times 100 \%$$
                </div>
            </div>
        </div>

        <!-- å¤±è¡¡å€¼ -->
        <div class="formula-section">
            <h2>å¤±è¡¡å€¼</h2>
            <p class="description">
                å¤±è¡¡å€¼å†³å®šäº†è§’è‰²å¯¹æ•Œäººé€ æˆçš„å¤±è¡¡ç´¯ç§¯ç¨‹åº¦ã€‚
            </p>
            <div class="formula-box">
                <div class="math">
                    $$\begin{align}
                    \text{å¤±è¡¡å€¼} &= \text{å†²å‡»åŠ›} \times \text{å¤±è¡¡å€ç‡} \times (1 - \text{å¤±è¡¡æŠ—æ€§} \%) \\
                        \quad &\times (1 + \text{é€ æˆçš„å¤±è¡¡å€¼æå‡} - \text{é€ æˆçš„å¤±è¡¡å€¼é™ä½}) \\
                        \quad &\times (1 + \text{å—åˆ°çš„å¤±è¡¡å€¼æå‡} - \text{å—åˆ°çš„å¤±è¡¡å€¼é™ä½}) \\
                        \quad &\times \text{è·ç¦»è¡°å‡åŒº}
                    \end{align}$$
                </div>
            </div>
        </div>

        <!-- è·ç¦»è¡°å‡åŒº -->
        <div class="formula-section">
            <h2>è·ç¦»è¡°å‡åŒº</h2>
            <div class="formula-box">
                <div class="math">
                    $$\text{ç›®å‰åªæœ‰éƒ¨åˆ†ä»£ç†äººä¼šå—åˆ°è¯¥ä¹˜åŒºå½±å“ï¼šé»˜è®¤å‹ã€æ ¼è‰ä¸å‹ã€æ‰³æœºå‹ã€è€€å˜‰éŸ³å‹} \\$$
                </div>
                <div class="math">
                    $$\text{è·ç¦»è¡°å‡åŒº} =
                    \begin{cases}
                        25 \% + 25 \% \times
                        \lfloor \frac{d-15}{5} \rfloor \quad & , d \geq 15m && \text{æ¯”åˆ©ã€ä¸½å¨œã€æœ±é¸¢ç­‰} \\
                        30 \% \quad & , d \geq 15m && \text{æ ¼è‰ä¸} \\
                        100\% \quad & && \text{å…¶ä»–ä»£ç†äºº}
                        \tag{dä¸ºæ•Œæˆ‘è·ç¦»}
                    \end{cases}$$
                </div>
            </div>
        </div>
    </main>

    <script>
        // æ·±è‰²æ¨¡å¼åˆ‡æ¢
        function toggleDarkMode() {
            const isDark = document.body.classList.toggle('dark-mode');
            document.querySelectorAll('.mode-icon').forEach(el => el.textContent = isDark ? 'â˜€ï¸' : 'ğŸŒ™');
            document.querySelectorAll('.mode-text').forEach(el => el.textContent = isDark ? 'æµ…è‰²æ¨¡å¼' : 'æ·±è‰²æ¨¡å¼');
            localStorage.setItem('darkMode', isDark ? 'enabled' : 'disabled');
        }

        // åˆå§‹åŒ–æ·±è‰²æ¨¡å¼
        (() => {
            const darkMode = localStorage.getItem('darkMode') === 'enabled';
            if (darkMode) document.body.classList.add('dark-mode');
            const isDark = document.body.classList.contains('dark-mode');
            document.querySelectorAll('.mode-icon').forEach(el => el.textContent = isDark ? 'â˜€ï¸' : 'ğŸŒ™');
            document.querySelectorAll('.mode-text').forEach(el => el.textContent = isDark ? 'æµ…è‰²æ¨¡å¼' : 'æ·±è‰²æ¨¡å¼');
        })();

        // æ»šåŠ¨æ—¶æ·»åŠ é˜´å½±
        window.addEventListener('scroll', () => {
            const headerBar = document.querySelector('.header-bar');
            if (window.scrollY > 0) {
                headerBar.classList.add('scrolled');
            } else {
                headerBar.classList.remove('scrolled');
            }
        });

        // æ›´æ–°æ—¥å¿—å¼¹çª—åŠŸèƒ½
        (() => {
            const overlay = document.getElementById('changelog-overlay');
            const overlayContent = document.querySelector('.overlay-content');
            const openButton = document.getElementById('open-changelog');

            if (openButton) {
                openButton.addEventListener('click', () => {
                    if (!overlay) return;
                    overlay.classList.add('active');
                    overlay.setAttribute('aria-hidden', 'false');
                    document.body.classList.add('overlay-open');
                });
            }

            if (overlay) {
                overlay.addEventListener('click', e => {
                    if (e.target === overlay) {
                        overlay.classList.remove('active');
                        overlay.setAttribute('aria-hidden', 'true');
                        document.body.classList.remove('overlay-open');
                    }
                });
            }
            if (overlayContent) {
                overlayContent.addEventListener('click', e => e.stopPropagation());
            }
        })();

        // å¼‚å¸¸ç§¯è“„é˜ˆå€¼å¼¹çª—åŠŸèƒ½
        (() => {
            const thresholdOverlay = document.getElementById('threshold-overlay');
            const thresholdContent = thresholdOverlay ? thresholdOverlay.querySelector('.overlay-content') : null;
            const openThresholdBtn = document.getElementById('open-threshold-btn');
            const closeThresholdBtn = document.getElementById('close-threshold-btn');

            if (openThresholdBtn) {
                openThresholdBtn.addEventListener('click', () => {
                    if (!thresholdOverlay) return;
                    thresholdOverlay.classList.add('active');
                    thresholdOverlay.setAttribute('aria-hidden', 'false');
                    document.body.classList.add('overlay-open');
                });
            }

            if (closeThresholdBtn) {
                closeThresholdBtn.addEventListener('click', () => {
                    if (!thresholdOverlay) return;
                    thresholdOverlay.classList.remove('active');
                    thresholdOverlay.setAttribute('aria-hidden', 'true');
                    document.body.classList.remove('overlay-open');
                });
            }

            if (thresholdOverlay) {
                thresholdOverlay.addEventListener('click', e => {
                    if (e.target === thresholdOverlay) {
                        thresholdOverlay.classList.remove('active');
                        thresholdOverlay.setAttribute('aria-hidden', 'true');
                        document.body.classList.remove('overlay-open');
                    }
                });
            }
            if (thresholdContent) {
                thresholdContent.addEventListener('click', e => e.stopPropagation());
            }
        })();
    </script>
</body>

</html>
